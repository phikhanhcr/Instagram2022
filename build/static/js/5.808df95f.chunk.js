(this["webpackJsonpfe-instagram"]=this["webpackJsonpfe-instagram"]||[]).push([[5],{114:function(e,t,r){"use strict";r.r(t);var c=r(12),n=r(0),a=r(5),i=r(6);function s(){var e=Object(a.o)();return Object(i.jsxs)("div",{className:"fixed top-0 right-0 left-0 w-full h-header_height bg-white flex items-center z-10",children:[Object(i.jsx)("div",{onClick:function(){return e(-1)},className:"absolute rotate-[270deg] px-4 cursor-pointer",children:Object(i.jsx)("svg",{"aria-label":"Quay l\u1ea1i",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:24,role:"img",viewBox:"0 0 24 24",width:24,children:Object(i.jsx)("path",{d:"M21 17.502a.997.997 0 01-.707-.293L12 8.913l-8.293 8.296a1 1 0 11-1.414-1.414l9-9.004a1.03 1.03 0 011.414 0l9 9.004A1 1 0 0121 17.502z"})})}),Object(i.jsx)("div",{className:"flex-1",children:Object(i.jsx)("h2",{className:"text-center text-sm font-semibold",children:"B\xecnh lu\u1eadn"})})]})}var l=Object(n.memo)(s);var o=function(e){var t=e.avatar;return Object(i.jsx)("div",{style:{backgroundImage:"url(".concat(t,")")},className:"mr-4 bg-cover bg-center bg-no-repeat h-8 w-8 rounded-full"})},d=r(15),b=r(96),j=r(90),u=r(64);var m=function(e){var t=e.username,r=e.content,c=e.reply,n=e.handleClickReply,a=e.isStatus,s=e.commentId,l=e.userId;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("a",{href:"/",className:"font-semibold mr-2",children:t}),c?Object(i.jsxs)("span",{children:[Object(i.jsxs)("a",{href:"/",className:"text-[#00376b] inline-block",children:["@",c]})," ",Object(i.jsxs)("span",{children:[r," "]})]}):Object(i.jsx)("span",{className:"max-w-[170px] overflow-x-hidden",children:r})]}),a?Object(i.jsx)("div",{className:"mt-1 opacity-70",children:Object(i.jsx)("span",{className:"mr-3 cursor-pointer",children:"1 day"})}):Object(i.jsxs)("div",{className:"mt-1 opacity-70",children:[Object(i.jsx)("span",{className:"mr-3 cursor-pointer",children:"1 day"}),Object(i.jsx)("span",{onClick:function(){return n({commentRoot:s,username:t,userId:l})},className:"cursor-pointer",children:"Reply"})]})]})};var h=function(e){var t=e.comment,r=e.handleClickReply,c=e.commentId;return Object(i.jsx)("ul",{className:"mt-3",children:t.comment_replied.length&&t.comment_replied.map((function(e,t){return Object(i.jsxs)("li",{className:"flex mt-3",children:[Object(i.jsx)(o,{avatar:e.avatar}),Object(i.jsx)("div",{className:"flex-1",children:Object(i.jsx)(m,{handleClickReply:r,commentId:c,userId:e.user_id,username:e.username,content:e.comment_id.content,reply:e.reply_to.username})})]},t)}))})};var x=function(e){var t=e.comment,r=e.handleClickReply,a=Object(n.useState)(!1),s=Object(c.a)(a,2),l=s[0],d=s[1];return Object(i.jsxs)("li",{className:"flex mt-4 pb-3",children:[Object(i.jsx)(o,{avatar:t.avatar}),Object(i.jsxs)("div",{className:"text-xs flex-1",children:[Object(i.jsx)(m,{commentId:t._id,username:t.username,content:t.content,handleClickReply:r,userId:t.user_commented_id}),t.comment_replied_count>0&&Object(i.jsxs)("div",{className:"mt-3",children:[Object(i.jsxs)("button",{className:"opacity-70",type:"button",children:[Object(i.jsx)("div",{className:"border-b border-[#2e2e2e] border-solid inline-block h-0 w-6 align-middle mr-4"}),l?Object(i.jsxs)("span",{onClick:function(){return d(!1)},children:["Xem c\xe2u tr\u1ea3 l\u1eddi (",t.comment_replied_count,")"]}):Object(i.jsx)("span",{onClick:function(){return d(!0)},children:"\u1ea8n c\xe2u tr\u1ea3 l\u1eddi"})]}),l&&Object(i.jsx)(h,{commentId:t._id,comment:t,handleClickReply:r})]})]})]})},O=r(97);var f=function(e){var t=e.handleClickReply,r=Object(j.a)().post._id,c=Object(d.b)(),a=Object(b.a)(),s=a.comment,l=a.isLoading;return Object(n.useEffect)((function(){var e=c(Object(u.b)(r));return function(){e.abort()}}),[c,r]),Object(i.jsx)(i.Fragment,{children:l?Object(i.jsx)(O.a,{}):Object(i.jsx)("ul",{children:s&&s.length&&s.map((function(e,r){return Object(i.jsx)(x,{comment:e,handleClickReply:t},r)}))})})},p=r(65);var v=function(){var e=Object(a.q)(),t=Object(d.b)();Object(n.useEffect)((function(){var r=t(Object(p.c)(e.idPost));return function(){r.abort()}}),[t,e]);var r=Object(j.a)(e),c=r.post,s=r.isLoading;return Object(i.jsxs)(i.Fragment,{children:[s&&Object(i.jsx)(i.Fragment,{children:"Loading..."}),c._id&&Object(i.jsx)("ul",{className:"border-b border-solid border-[#e2e2e2] pb-5",children:Object(i.jsxs)("li",{className:"flex",children:[Object(i.jsx)(o,{avatar:c.userId.avatar}),Object(i.jsx)("div",{className:"text-xs flex-1",children:Object(i.jsx)(m,{isStatus:!0,username:c.userId.username,content:c.description})})]})})]})};var g=function(e){var t=e.handleClickReply,r=Object(n.useRef)();return Object(n.useEffect)((function(){var e=window.innerHeight;r.current.style.height="".concat(e-122,"px");var t=function(){var e=window.innerHeight;r.current.style.height="".concat(e-122,"px")};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),Object(i.jsxs)("div",{className:"pt-4 h-[500px] overflow-y-auto pl-4 pr-2 z-10 bg-white",id:"list-comment",ref:r,children:[Object(i.jsx)(v,{}),Object(i.jsx)(f,{handleClickReply:t})]})},y=r(45);var w=function(e){var t=e.commentInfo,r=e.postId,a=e.usernameReplied,s=e.setUsernameReplied,l=Object(d.b)(),o=Object(n.useState)(""),b=Object(c.a)(o,2),j=b[0],m=b[1];return Object(i.jsx)("div",{className:"flex-1",children:Object(i.jsxs)("div",{className:"flex bg-white overflow-hidden rounded-3xl px-3 text-sm",children:[t.username&&""!==a&&Object(i.jsx)("div",{className:"relative flex items-center",children:Object(i.jsxs)("span",{className:"mx-1 text-[#00376b]",children:["@",t.username]})}),Object(i.jsx)("input",{type:"text",className:"w-full rounded-3xl py-3 mr-2 outline-none",placeholder:"Th\xeam b\xecnh lu\u1eadn....",value:j,onChange:function(e){e.currentTarget.addEventListener("keydown",(function(t){var r=t.key;0!==e.target.value.length||"Backspace"!==r&&"Delete"!==r||s("")})),m(e.target.value)}}),Object(i.jsx)("button",{onClick:function(){l(""!==a?Object(u.c)({post_id:r,content:j.trim(),comment_root_id:t.commentRoot,reply_to:t.userId}):Object(u.c)({post_id:r,content:j.trim()})),m("")},type:"submit",className:"text-[#0095f6] font-semibold",children:"\u0110\u0103ng"})]})})};t.default=function(){var e=Object(y.a)().user.avatar,t=Object(a.q)().idPost,r=Object(n.useState)({}),s=Object(c.a)(r,2),d=s[0],b=s[1],j=Object(n.useState)(""),u=Object(c.a)(j,2),m=u[0],h=u[1];return Object(i.jsxs)("section",{className:"view-comment bg-white",children:[Object(i.jsx)(l,{}),Object(i.jsxs)("div",{className:"fixed top-[56px] h-[65px] w-full right-0 left-0 bg-gray-200",children:[Object(i.jsxs)("div",{className:"flex h-full items-center px-4",children:[Object(i.jsx)(o,{avatar:e}),Object(i.jsx)(w,{postId:t,commentInfo:d,usernameReplied:m,setUsernameReplied:h})]}),Object(i.jsx)(g,{handleClickReply:function(e){h(e.username),b(e)}})]})]})}},90:function(e,t,r){"use strict";var c=r(65);t.a=function(){return Object(c.a)()}},92:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var c=r(0),n=function(){return n=Object.assign||function(e){for(var t,r=1,c=arguments.length;r<c;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},n.apply(this,arguments)};var a=function(e){var t=e.animate,r=e.animateBegin,a=e.backgroundColor,i=e.backgroundOpacity,s=e.baseUrl,l=e.children,o=e.foregroundColor,d=e.foregroundOpacity,b=e.gradientRatio,j=e.gradientDirection,u=e.uniqueKey,m=e.interval,h=e.rtl,x=e.speed,O=e.style,f=e.title,p=e.beforeMask,v=function(e,t){var r={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(r[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(c=Object.getOwnPropertySymbols(e);n<c.length;n++)t.indexOf(c[n])<0&&Object.prototype.propertyIsEnumerable.call(e,c[n])&&(r[c[n]]=e[c[n]])}return r}(e,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),g=u||Math.random().toString(36).substring(6),y=g+"-diff",w=g+"-animated-diff",N=g+"-aria",k=h?{transform:"scaleX(-1)"}:null,E="0; "+m+"; 1",C=x+"s",R="top-bottom"===j?"rotate(90)":void 0;return Object(c.createElement)("svg",n({"aria-labelledby":N,role:"img",style:n(n({},O),k)},v),f?Object(c.createElement)("title",{id:N},f):null,p&&Object(c.isValidElement)(p)?p:null,Object(c.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+s+"#"+y+")",style:{fill:"url("+s+"#"+w+")"}}),Object(c.createElement)("defs",null,Object(c.createElement)("clipPath",{id:y},l),Object(c.createElement)("linearGradient",{id:w,gradientTransform:R},Object(c.createElement)("stop",{offset:"0%",stopColor:a,stopOpacity:i},t&&Object(c.createElement)("animate",{attributeName:"offset",values:-b+"; "+-b+"; 1",keyTimes:E,dur:C,repeatCount:"indefinite",begin:r})),Object(c.createElement)("stop",{offset:"50%",stopColor:o,stopOpacity:d},t&&Object(c.createElement)("animate",{attributeName:"offset",values:-b/2+"; "+-b/2+"; "+(1+b/2),keyTimes:E,dur:C,repeatCount:"indefinite",begin:r})),Object(c.createElement)("stop",{offset:"100%",stopColor:a,stopOpacity:i},t&&Object(c.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+b),keyTimes:E,dur:C,repeatCount:"indefinite",begin:r})))))};a.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,gradientDirection:"left-right",id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading...",beforeMask:null};var i=function(e){return e.children?Object(c.createElement)(a,n({},e)):Object(c.createElement)(s,n({},e))},s=function(e){return Object(c.createElement)(i,n({viewBox:"0 0 476 124"},e),Object(c.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),Object(c.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),Object(c.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),Object(c.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),Object(c.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),Object(c.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},l=function(e){return Object(c.createElement)(i,n({viewBox:"0 0 400 460"},e),Object(c.createElement)("circle",{cx:"31",cy:"31",r:"15"}),Object(c.createElement)("rect",{x:"58",y:"18",rx:"2",ry:"2",width:"140",height:"10"}),Object(c.createElement)("rect",{x:"58",y:"34",rx:"2",ry:"2",width:"140",height:"10"}),Object(c.createElement)("rect",{x:"0",y:"60",rx:"2",ry:"2",width:"400",height:"400"}))};t.b=i},96:function(e,t,r){"use strict";var c=r(64);t.a=function(){return Object(c.a)()}},97:function(e,t,r){"use strict";var c=r(92),n=r(6);t.a=function(e){var t=e.speed,r=void 0===t?2:t,a=e.width,i=void 0===a?400:a,s=e.height,l=void 0===s?150:s;return Object(n.jsxs)(c.b,{speed:r,width:i,height:l,viewBox:"0 0 400 150",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[Object(n.jsx)("circle",{cx:"10",cy:"20",r:"8"}),Object(n.jsx)("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),Object(n.jsx)("circle",{cx:"10",cy:"50",r:"8"}),Object(n.jsx)("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),Object(n.jsx)("circle",{cx:"10",cy:"80",r:"8"}),Object(n.jsx)("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}),Object(n.jsx)("circle",{cx:"10",cy:"110",r:"8"}),Object(n.jsx)("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"})]})}}}]);
//# sourceMappingURL=5.808df95f.chunk.js.map