(this["webpackJsonpfe-instagram"]=this["webpackJsonpfe-instagram"]||[]).push([[7],{108:function(e,c,t){},113:function(e,c,t){"use strict";t.r(c);var s=t(12),r=t(0),l=t(15),a=(t(74),t(95)),i=(t(108),t(67)),n=function(){return Object(i.a)()},o=t(6);var d=function(e){var c=e.onClickBack;return Object(o.jsxs)("div",{className:"fixed top-0 right-0 left-0 md:relative z-[2] bg-white px-2 md:px-5 h-[60px] w-full flex items-center border border-solid border-[#ccc]",children:[Object(o.jsx)("div",{className:"rotate-[270deg] mr-2 cursor-pointer block md:hidden",onClick:function(){return c()},children:Object(o.jsx)("svg",{"aria-label":"Quay l\u1ea1i",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:24,role:"img",viewBox:"0 0 48 48",width:24,children:Object(o.jsx)("path",{d:"M40 33.5c-.4 0-.8-.1-1.1-.4L24 18.1l-14.9 15c-.6.6-1.5.6-2.1 0s-.6-1.5 0-2.1l16-16c.6-.6 1.5-.6 2.1 0l16 16c.6.6.6 1.5 0 2.1-.3.3-.7.4-1.1.4z"})})}),Object(o.jsx)("div",{className:"bg-center mr-3 bg-cover bg-no-repeat rounded-full w-[26px] h-[26px]",style:{backgroundImage:"url(https://images.unsplash.com/photo-1507065938252-17f453893fc3?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=764&q=80)"}}),Object(o.jsxs)("div",{className:"flex-1",children:[Object(o.jsx)("div",{className:"font-semibold text-sm",children:"kckatalbas"}),Object(o.jsx)("div",{className:"font-normal text-xs opacity-50",children:"Ho\u1ea1t \u0111\u1ed9ng 2 gi\u1edd tr\u01b0\u1edbc"})]}),Object(o.jsx)("div",{className:"cursor-pointer",children:Object(o.jsxs)("svg",{"aria-label":"Xem chi ti\u1ebft cu\u1ed9c tr\xf2 chuy\u1ec7n",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:24,role:"img",viewBox:"0 0 48 48",width:24,children:[Object(o.jsx)("path",{d:"M24 48C10.8 48 0 37.2 0 24S10.8 0 24 0s24 10.8 24 24-10.8 24-24 24zm0-45C12.4 3 3 12.4 3 24s9.4 21 21 21 21-9.4 21-21S35.6 3 24 3z"}),Object(o.jsx)("circle",{clipRule:"evenodd",cx:24,cy:"14.8",fillRule:"evenodd",r:"2.6"}),Object(o.jsx)("path",{d:"M27.1 35.7h-6.2c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5h6.2c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5z"}),Object(o.jsx)("path",{d:"M24 35.7c-.8 0-1.5-.7-1.5-1.5V23.5h-1.6c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5H24c.8 0 1.5.7 1.5 1.5v12.2c0 .8-.7 1.5-1.5 1.5z"})]})})]})};var m=function(){return Object(o.jsx)("div",{className:"fixed bottom-0 right-0 left-0 md:relative bg-white h-[3.75rem] md:h-13 p-2 ",children:Object(o.jsxs)("div",{className:"flex rounded-3xl items-center border border-solid border-[#ccc] px-4",children:[Object(o.jsx)("div",{className:"cursor-pointer",children:Object(o.jsxs)("svg",{"aria-label":"Bi\u1ec3u t\u01b0\u1ee3ng c\u1ea3m x\xfac",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:24,role:"img",viewBox:"0 0 48 48",width:24,children:[Object(o.jsx)("path",{d:"M24 48C10.8 48 0 37.2 0 24S10.8 0 24 0s24 10.8 24 24-10.8 24-24 24zm0-45C12.4 3 3 12.4 3 24s9.4 21 21 21 21-9.4 21-21S35.6 3 24 3z"}),Object(o.jsx)("path",{d:"M34.9 24c0-1.4-1.1-2.5-2.5-2.5s-2.5 1.1-2.5 2.5 1.1 2.5 2.5 2.5 2.5-1.1 2.5-2.5zm-21.8 0c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5-2.5-1.1-2.5-2.5zM24 37.3c-5.2 0-8-3.5-8.2-3.7-.5-.6-.4-1.6.2-2.1.6-.5 1.6-.4 2.1.2.1.1 2.1 2.5 5.8 2.5 3.7 0 5.8-2.5 5.8-2.5.5-.6 1.5-.7 2.1-.2.6.5.7 1.5.2 2.1 0 .2-2.8 3.7-8 3.7z"})]})}),Object(o.jsx)("div",{className:"flex-1",children:Object(o.jsx)("input",{type:"text",className:"py-2.5 outline-none pl-3 w-[90%] text-sm",placeholder:"Nh\u1eafn tin...."})}),Object(o.jsx)("div",{className:"cursor-pointer mr-3",children:Object(o.jsx)("svg",{"aria-label":"Th\xeam \u1ea3nh ho\u1eb7c video",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:24,role:"img",viewBox:"0 0 48 48",width:24,children:Object(o.jsx)("path",{d:"M38.5 0h-29C4.3 0 0 4.3 0 9.5v29C0 43.7 4.3 48 9.5 48h29c5.2 0 9.5-4.3 9.5-9.5v-29C48 4.3 43.7 0 38.5 0zM45 38.5c0 3.6-2.9 6.5-6.5 6.5h-29c-3.3 0-6-2.5-6.4-5.6l8.3-8.3c.1-.1.3-.2.4-.2.1 0 .2 0 .4.2l6.3 6.3c1.4 1.4 3.6 1.4 5 0L35.9 25c.2-.2.6-.2.8 0l8.3 8.3v5.2zm0-9.4l-6.2-6.2c-1.3-1.3-3.7-1.3-5 0L21.3 35.3c-.1.1-.3.2-.4.2-.1 0-.2 0-.4-.2L14.2 29c-1.3-1.3-3.7-1.3-5 0L3 35.2V9.5C3 5.9 5.9 3 9.5 3h29C42.1 3 45 5.9 45 9.5v19.6zM11.8 8.2c-1.9 0-3.5 1.6-3.5 3.5s1.6 3.5 3.5 3.5 3.5-1.6 3.5-3.5-1.6-3.5-3.5-3.5z"})})}),Object(o.jsx)("div",{className:"cursor-pointer",children:Object(o.jsx)("svg",{"aria-label":"Th\xedch",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:24,role:"img",viewBox:"0 0 48 48",width:24,children:Object(o.jsx)("path",{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"})})})]})})},b=t(45);var x=function(e){var c=e.message,t=Object(r.useState)(!1),l=Object(s.a)(t,2),a=l[0],i=l[1],n=Object(b.a)().user;return Object(o.jsxs)("li",{className:c.sender===n._id?"w-full flex justify-start items-end mb-2 group my-message":"w-full flex justify-start items-end mb-2 group",children:[Object(o.jsx)("div",{style:{backgroundImage:"url(https://images.unsplash.com/photo-1540804485132-9c94bcae6c66?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=387&q=80)"},className:"bg-cover bg-no-repeat rounded-full w-[24px] h-[24px] mr-2 mb-2 my-message__my-avatar"}),Object(o.jsxs)("div",{className:"border border-solid rounded-[22px] min-h-[54px] h-auto text-sm p-4 my-message__my-content max-w-[244px] relative",children:[Object(o.jsx)("span",{className:"break-words",children:c.message}),c.reaction?Object(o.jsx)("button",{className:"absolute animate-showModal -bottom-3 -left-0.5 p-1 bg-opacity-30 bg-gray-400 rounded-full ",children:Object(o.jsx)("div",{className:"text-xs md:text-sm",children:"\u2764\ufe0f"})}):""]}),Object(o.jsxs)("div",{className:"hidden md:block self-center ml-2 mr-2 relative",onClick:function(){var e=document.querySelectorAll(".message__menu-modal"),c=document.getElementById("overlay-message");e.forEach((function(e){e.style.display="none"})),c.style.display="block",i((function(e){return!e}))},children:[Object(o.jsxs)("svg",{"aria-label":"Thu h\u1ed3i",className:"cursor-pointer message_item-menu",color:"#262626",fill:"#262626",height:24,role:"img",viewBox:"0 0 24 24",width:24,children:[Object(o.jsx)("circle",{cx:12,cy:12,r:"1.5"}),Object(o.jsx)("circle",{cx:"6.5",cy:12,r:"1.5"}),Object(o.jsx)("circle",{cx:"17.5",cy:12,r:"1.5"})]}),a&&Object(o.jsxs)("div",{className:"min-w-[168px] py-[3px] items-center justify-around animate-showModal flex message__menu-modal z-10 absolute -top-9 -left-1 shadow-2xl text-white bg-black text-sm font-semibold rounded-lg px-2",children:[Object(o.jsx)("span",{className:" cursor-pointer z-10 message-like_btn",children:"Like"}),Object(o.jsx)("span",{className:" cursor-pointer z-10 message-copy_btn",children:"Copy"}),Object(o.jsx)("span",{className:"cursor-pointer z-10 message-remove_btn",children:"Remove"}),Object(o.jsx)("div",{className:"w-full absolute bottom-[-5px] left-[-100%] translate-x-[62%] z-0 report-message",children:Object(o.jsx)("div",{className:"w-[15px] h-[15px] m-auto bg-black rotate-[45deg]"})})]})]})]})};var j=function(e){var c=e.messages;return Object(o.jsx)("div",{className:"message flex-1 w-full h-[60%]",children:Object(o.jsx)("ul",{className:"px-5 pt-[4.25rem] pb-[4.25rem] md:pb-0 md:pt-5 w-full h-full overflow-hidden overflow-y-auto flex flex-col-reverse",children:c.length&&c.map((function(e,c){return Object(o.jsx)(x,{message:e},c)}))})})};var h=function(e){var c=e.onClickBack,t=e.conversationId,s=n().messages,a=Object(l.b)();return Object(r.useEffect)((function(){var e=a(Object(i.c)(t));return function(){return e.abort()}}),[t,a]),Object(o.jsx)("div",{className:"flex flex-col w-full md:w-8/12 h-full",id:"direct-message__modal",children:s&&t?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(d,{onClickBack:c}),Object(o.jsx)(j,{messages:s}),Object(o.jsx)(m,{})]}):Object(o.jsx)("div",{className:"flex justify-center items-center h-full",children:Object(o.jsx)(o.Fragment,{children:"Select to show message "})})})},u=t(44);var f=function(e){var c=e.info,t=e.onClickEvent,s=e.userActive;return Object(o.jsx)(u.b,{to:"".concat(c._id),children:Object(o.jsxs)("li",{onClick:function(){t(c._id)},className:s===c.id?"hover:bg-gray-100 cursor-pointer flex items-center py-2 px-5 direct-message__user message-active":"hover:bg-gray-100 cursor-pointer flex items-center py-2 px-5 direct-message__user",children:[Object(o.jsx)("div",{style:{backgroundImage:"url(".concat(2===c.members.length?c.members[0].avatar:c.avatar,")")},className:"mr-3 bg-center bg-cover bg-no-repeat rounded-full w-[56px] h-[56px]"}),Object(o.jsxs)("div",{className:"flex-1",children:[Object(o.jsx)("div",{className:"font-medium text-sm opacity-90 text-[#494949]",children:c.name}),Object(o.jsx)("div",{className:"font-normal text-sm opacity-50",children:"Ho\u1ea1t \u0111\u1ed9ng 2 gi\u1edd tr\u01b0\u1edbc"})]})]})})};var v=function(){return Object(o.jsxs)("div",{className:"md:flex hidden px-5 h-[60px] w-full items-center border border-solid border-[#ccc]",children:[Object(o.jsxs)("div",{className:"flex-1 text-center font-semibold text-sm flex justify-center",children:[Object(o.jsx)("span",{children:"phikhanhcris"}),Object(o.jsx)("div",{className:"ml-2",children:Object(o.jsx)("svg",{"aria-label":"Bi\u1ec3u t\u01b0\u1ee3ng m\u0169i t\xean xu\u1ed1ng",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:20,role:"img",viewBox:"0 0 48 48",width:20,children:Object(o.jsx)("path",{d:"M40 33.5c-.4 0-.8-.1-1.1-.4L24 18.1l-14.9 15c-.6.6-1.5.6-2.1 0s-.6-1.5 0-2.1l16-16c.6-.6 1.5-.6 2.1 0l16 16c.6.6.6 1.5 0 2.1-.3.3-.7.4-1.1.4z"})})})]}),Object(o.jsx)("div",{className:"cursor-pointer",children:Object(o.jsxs)("svg",{"aria-label":"Tin nh\u1eafn m\u1edbi",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:24,role:"img",viewBox:"0 0 44 44",width:24,children:[Object(o.jsx)("path",{d:"M33.7 44.12H8.5a8.41 8.41 0 01-8.5-8.5v-25.2a8.41 8.41 0 018.5-8.5H23a1.5 1.5 0 010 3H8.5a5.45 5.45 0 00-5.5 5.5v25.2a5.45 5.45 0 005.5 5.5h25.2a5.45 5.45 0 005.5-5.5v-14.5a1.5 1.5 0 013 0v14.5a8.41 8.41 0 01-8.5 8.5z"}),Object(o.jsx)("path",{d:"M17.5 34.82h-6.7a1.5 1.5 0 01-1.5-1.5v-6.7a1.5 1.5 0 01.44-1.06L34.1 1.26a4.45 4.45 0 016.22 0l2.5 2.5a4.45 4.45 0 010 6.22l-24.3 24.4a1.5 1.5 0 01-1.02.44zm-5.2-3h4.58l23.86-24a1.45 1.45 0 000-2l-2.5-2.5a1.45 1.45 0 00-2 0l-24 23.86z"}),Object(o.jsx)("path",{d:"M38.2 14.02a1.51 1.51 0 01-1.1-.44l-6.56-6.56a1.5 1.5 0 012.12-2.12l6.6 6.6a1.49 1.49 0 010 2.12 1.51 1.51 0 01-1.06.4z"})]})})]})};var p=function(e){var c=e.userActive,t=e.listUser,s=e.clickEventHandle;return Object(o.jsxs)("div",{className:"md:flex w-full md:w-4/12 border-r border-solid border-[#ccc] h-full z-0 flex-col",id:"direct-message__list",children:[Object(o.jsx)(v,{}),Object(o.jsx)("div",{className:"h-4 w-full flex md:hidden"}),Object(o.jsx)("ul",{className:"overflow-hidden overflow-y-auto h-auto md:h-[638px] md:pt-0 flex-1",children:t.map((function(e,t){return Object(o.jsx)(f,{onClickEvent:s,info:e,userActive:c},t)}))})]})},g=t(68),O=function(){return Object(g.a)()};c.default=function(){var e=Object(l.b)(),c=O(),t=c.conversations;c.isLoading,console.log("re-render",t),Object(r.useEffect)((function(){var c=e(Object(g.c)());return function(){c.abort()}}),[e]);var i=Object(r.useState)(null),n=Object(s.a)(i,2),d=n[0],m=n[1],b=Object(r.useState)((function(){return window.innerWidth<=767})),x=Object(s.a)(b,2),j=x[0],u=x[1],f=Object(r.useState)(!1),v=Object(s.a)(f,2),w=v[0],y=v[1];Object(r.useEffect)((function(){window.innerWidth>767&&u(!1);var e=function(e){window.innerWidth<=767&&u(!0)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var N=function(){y(!1)},_=function(e){m(e),j&&y(!0)};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(a.a,{}),Object(o.jsxs)("div",{className:"md:pt-header_height w-[100%] lg:w-full max-w-[975px] mx-auto my-0 p-0 mt-10",children:[j?w?Object(o.jsx)("div",{className:"flex border border-solid border-[#ccc] h-screen md:h-[850px] relative",children:Object(o.jsx)(h,{onClickBack:N})}):Object(o.jsx)("div",{className:"flex border border-solid border-[#ccc] h-[screen] md:h-[850px] relative",children:Object(o.jsx)(p,{clickEventHandle:_,userActive:d,listUser:t})}):Object(o.jsxs)("div",{className:"flex border border-solid border-[#ccc] h-screen md:h-[650px] relative",children:[Object(o.jsx)(p,{clickEventHandle:_,userActive:d,listUser:t}),Object(o.jsx)(h,{conversationId:d})]}),Object(o.jsx)("div",{id:"overlay-message",className:"overlay-message hidden fixed top-0 right-0 bottom-0 left-0 z-[1]",onClick:function(){var e=document.getElementById("overlay-message");document.querySelectorAll(".message__menu-modal").forEach((function(e){e.style.display="none"})),e.style.display="none"}}),Object(o.jsx)("div",{id:"overlay-message__touch-hold--on-mobile",className:"animate-showModal bg-black bg-opacity-30 fixed top-0 right-0 bottom-0 left-0 z-[11]  hidden items-center justify-center",children:Object(o.jsxs)("div",{className:"bg-white flex flex-col w-[260px] rounded-xl overflow-hidden",children:[Object(o.jsx)("button",{className:"hover:bg-gray-400 border rounded-t-xl text-sm min-h-[48px] px-2 py-1",id:"message__touch-btn--copy",children:"Sao ch\xe9p"}),Object(o.jsx)("button",{className:"hover:bg-gray-400 border border-solid text-sm min-h-[48px] px-2 py-1",id:"message__touch-btn--remove",children:"Thu h\u1ed3i"}),Object(o.jsx)("button",{className:"hover:bg-gray-400 border border-solid rounded-b-xl text-sm min-h-[48px] px-2 py-1",id:"message__touch-btn--cancel",children:"H\u1ee7y"})]})})]})]})}}}]);
//# sourceMappingURL=7.518fe302.chunk.js.map